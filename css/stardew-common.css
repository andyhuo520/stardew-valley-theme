/* ========================================
   ğŸ® æ˜Ÿéœ²è°·ç‰©è¯­ - åƒç´ é£æ ¼é€šç”¨æ ·å¼
   Stardew Valley Pixel Style Overrides
   ======================================== */

/* å¯¼å…¥æ–¹èˆŸåƒç´ å­—ä½“ */
@import "../../fonts/ark-pixel.css";

/* å¯¼å…¥åƒç´ UIç´ ææ ·å¼ */
@import "./stardew-sprites.css";

/* å¯¼å…¥å­£èŠ‚è£…é¥°æ ·å¼ */
@import "./stardew-decorations.css";

/* å¯¼å…¥å†œåœºè£…é¥°æ ·å¼ */
@import "./stardew-farm-decorations.css";

/* å¯¼å…¥åƒç´ å…‰æ ‡ç³»ç»Ÿ */
@import "./stardew-cursors.css";

/* å¯¼å…¥å†œä½œç‰©ç”Ÿé•¿è¿›åº¦æ¡ */
@import "./stardew-crop-progress.css";

/* å¯¼å…¥ä¹¦å·/ç¾Šçš®çº¸é£æ ¼ */
@import "./stardew-scroll.css";

/* å¯¼å…¥çœŸå®æ—¶é—´ç³»ç»Ÿ */
@import "./stardew-realtime.css";

/* å¯¼å…¥å¤©æ°”æ•ˆæœ */
@import "./stardew-weather.css";

/* åº”ç”¨äºæ‰€æœ‰æ˜Ÿéœ²è°·ä¸»é¢˜ */
:root[data-theme^="stardew-"] {
  /* ========================================
     ğŸ® åƒç´ å­—ä½“å˜é‡
     ======================================== */
  --font-pixel: 'Ark Pixel', 'Fusion Pixel', monospace;
  --font-body: var(--font-pixel);
  --font-display: var(--font-pixel);
  --font-mono: var(--font-pixel);
}

:root[data-theme^="stardew-"] body {
  font-family: var(--font-pixel) !important;
  font-size: 12px !important;
  letter-spacing: 0.02em !important;
  image-rendering: pixelated !important;
  -webkit-font-smoothing: none !important;
  -moz-osx-font-smoothing: unset !important;
}

/* å…¨å±€æ–‡å­—æ ·å¼ */
:root[data-theme^="stardew-"] * {
  font-family: var(--font-pixel) !important;
}

/* æ ‡é¢˜ä½¿ç”¨æ›´å¤§çš„åƒç´ å­—ä½“ */
:root[data-theme^="stardew-"] .page-title,
:root[data-theme^="stardew-"] .brand-title,
:root[data-theme^="stardew-"] .card-title,
:root[data-theme^="stardew-"] .config-section-card__title,
:root[data-theme^="stardew-"] .config-section-hero__title,
:root[data-theme^="stardew-"] .nav-label,
:root[data-theme^="stardew-"] .sidebar-title {
  font-family: var(--font-pixel) !important;
  font-size: 14px !important;
  line-height: 1.8 !important;
  letter-spacing: 0.05em !important;
}

/* ========================================
   ğŸ  æœ¨è´¨è¾¹æ¡†æ•ˆæœ
   ======================================== */

:root[data-theme^="stardew-"] .card,
:root[data-theme^="stardew-"] .config-section-card,
:root[data-theme^="stardew-"] .list-item,
:root[data-theme^="stardew-"] .chat-bubble,
:root[data-theme^="stardew-"] .stat,
:root[data-theme^="stardew-"] .log-stream,
:root[data-theme^="stardew-"] .callout {
  border: 3px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  box-shadow: var(--shadow-md) !important;
}

:root[data-theme^="stardew-"] .card:hover,
:root[data-theme^="stardew-"] .config-section-card:hover,
:root[data-theme^="stardew-"] .list-item:hover {
  border-color: var(--accent) !important;
  box-shadow: var(--shadow-lg), 0 0 15px var(--accent-glow) !important;
}

/* ========================================
   ğŸŒŸ æŒ‰é’® - åƒç´ æ¸¸æˆé£æ ¼
   ======================================== */

:root[data-theme^="stardew-"] .btn {
  border: 3px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  background: linear-gradient(180deg, var(--card) 0%, var(--bg-elevated) 100%) !important;
  box-shadow: var(--shadow-sm) !important;
  text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.5) !important;
  font-family: var(--font-pixel) !important;
  font-size: 12px !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
  transition: all 0.1s ease !important;
}

:root[data-theme^="stardew-"] .btn:hover {
  transform: translate(1px, 1px) !important;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5) !important;
}

:root[data-theme^="stardew-"] .btn:active {
  transform: translate(2px, 2px) !important;
  box-shadow: 1px 1px 0 rgba(0, 0, 0, 0.5) !important;
}

:root[data-theme^="stardew-"] .btn.primary {
  background: linear-gradient(180deg, var(--accent-hover) 0%, var(--accent) 100%) !important;
  border-color: var(--accent) !important;
  color: var(--accent-foreground) !important;
  text-shadow: 1px 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* ========================================
   ğŸ“œ å¯¼èˆªæ  - æœ¨è´¨æ ‡ç­¾é£æ ¼
   ======================================== */

:root[data-theme^="stardew-"] .nav-item {
  border: 2px solid transparent !important;
  border-radius: var(--radius) !important;
  font-family: var(--font-pixel) !important;
  font-size: 12px !important;
  text-transform: uppercase !important;
}

:root[data-theme^="stardew-"] .nav-item:hover {
  background: var(--accent-subtle) !important;
  border-color: var(--border-strong) !important;
}

:root[data-theme^="stardew-"] .nav-item.active {
  background: var(--accent-subtle) !important;
  border-color: var(--accent) !important;
  box-shadow: var(--shadow-sm) !important;
}

:root[data-theme^="stardew-"] .nav-item.active .nav-item__icon {
  color: var(--accent) !important;
}

/* ========================================
   ğŸ’¬ èŠå¤©æ°”æ³¡ - å¯¹è¯æ¡†é£æ ¼
   ======================================== */

:root[data-theme^="stardew-"] .chat-bubble {
  border: 3px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  background: var(--card) !important;
  box-shadow: var(--shadow-md) !important;
}

:root[data-theme^="stardew-"] .chat-group.user .chat-bubble {
  background: linear-gradient(180deg, var(--accent) 0%, var(--accent-hover) 100%) !important;
  border-color: var(--accent) !important;
  color: var(--accent-foreground) !important;
}

:root[data-theme^="stardew-"] .chat-avatar {
  border: 3px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  background: var(--bg-elevated) !important;
  box-shadow: var(--shadow-sm) !important;
  image-rendering: pixelated !important;
}

:root[data-theme^="stardew-"] .chat-avatar.user {
  background: linear-gradient(180deg, var(--accent) 0%, var(--accent-hover) 100%) !important;
  border-color: var(--accent) !important;
  color: var(--accent-foreground) !important;
}

/* ========================================
   ğŸ“Š çŠ¶æ€æŒ‡ç¤ºå™¨ - åƒç´ é£æ ¼
   ======================================== */

:root[data-theme^="stardew-"] .statusDot {
  border-radius: 2px !important;
  box-shadow: 0 0 0 2px var(--bg), 0 0 8px currentColor !important;
}

:root[data-theme^="stardew-"] .pill,
:root[data-theme^="stardew-"] .chip {
  border: 2px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  font-family: var(--font-pixel) !important;
  text-transform: uppercase !important;
  font-size: 11px !important;
}

/* ========================================
   ğŸ“ è¾“å…¥æ¡† - ç¾Šçš®çº¸é£æ ¼
   ======================================== */

:root[data-theme^="stardew-"] .field input,
:root[data-theme^="stardew-"] .field textarea,
:root[data-theme^="stardew-"] .field select,
:root[data-theme^="stardew-"] .cfg-input,
:root[data-theme^="stardew-"] .cfg-textarea,
:root[data-theme^="stardew-"] .cfg-select,
:root[data-theme^="stardew-"] .chat-compose__field textarea {
  border: 3px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  background: var(--bg-elevated) !important;
  color: var(--text) !important;
  font-family: var(--font-pixel) !important;
  font-size: 12px !important;
  box-shadow: inset 2px 2px 0 rgba(0, 0, 0, 0.2) !important;
}

:root[data-theme^="stardew-"] .field input:focus,
:root[data-theme^="stardew-"] .field textarea:focus,
:root[data-theme^="stardew-"] .field select:focus,
:root[data-theme^="stardew-"] .cfg-input:focus,
:root[data-theme^="stardew-"] .cfg-textarea:focus,
:root[data-theme^="stardew-"] .cfg-select:focus,
:root[data-theme^="stardew-"] .chat-compose__field textarea:focus {
  border-color: var(--accent) !important;
  box-shadow: inset 2px 2px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px var(--accent-subtle) !important;
}

/* ========================================
   ğŸ¨ é¡¶éƒ¨æ  - æœ¨è´¨æ¨ªæ¢
   ======================================== */

:root[data-theme^="stardew-"] .topbar {
  background: linear-gradient(180deg, var(--bg-elevated) 0%, var(--bg-accent) 100%) !important;
  border-bottom: 4px solid var(--border) !important;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4) !important;
}

:root[data-theme^="stardew-"] .brand-title {
  color: var(--accent) !important;
  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.8) !important;
  font-family: var(--font-pixel) !important;
}

/* ========================================
   ğŸ“‹ è¡¨æ ¼å’Œåˆ—è¡¨ - æœ¨æ¿æ¡çº¹
   ======================================== */

:root[data-theme^="stardew-"] .table-row:nth-child(even),
:root[data-theme^="stardew-"] .log-row:nth-child(even) {
  background: rgba(255, 255, 255, 0.03) !important;
}

:root[data-theme^="stardew-"] .log-row:hover {
  background: var(--accent-subtle) !important;
}

/* ========================================
   ğŸŒˆ ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
   ======================================== */

:root[data-theme^="stardew-"] .theme-toggle__track {
  border: 2px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  background: var(--bg-elevated) !important;
}

:root[data-theme^="stardew-"] .theme-toggle__indicator {
  border-radius: 2px !important;
  background: var(--accent) !important;
}

/* ========================================
   âš™ï¸ é…ç½®é¡µé¢
   ======================================== */

:root[data-theme^="stardew-"] .config-sidebar {
  background: linear-gradient(180deg, var(--bg-accent) 0%, var(--bg) 100%) !important;
  border-right: 4px solid var(--border) !important;
}

:root[data-theme^="stardew-"] .config-nav__item.active {
  background: var(--accent-subtle) !important;
  border-left: 4px solid var(--accent) !important;
}

:root[data-theme^="stardew-"] .config-section-card__header {
  background: linear-gradient(180deg, var(--bg-hover) 0%, var(--bg-elevated) 100%) !important;
  border-bottom: 3px solid var(--border) !important;
}

/* ========================================
   âœ¨ åŠ¨ç”»æ•ˆæœ - åƒç´ é£æ ¼
   ======================================== */

@keyframes pixel-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

:root[data-theme^="stardew-"] .chat-bubble.streaming {
  animation: pixel-pulse 1s steps(2) infinite !important;
  border-color: var(--accent) !important;
}

:root[data-theme^="stardew-"] .chat-reading-indicator__dots span {
  border-radius: 2px !important;
  animation: pixel-pulse 1.2s steps(3) infinite !important;
}

/* ========================================
   ğŸª æ»šåŠ¨æ¡ - æœ¨è´¨é£æ ¼
   ======================================== */

:root[data-theme^="stardew-"] ::-webkit-scrollbar {
  width: 12px !important;
  height: 12px !important;
}

:root[data-theme^="stardew-"] ::-webkit-scrollbar-track {
  background: var(--bg-accent) !important;
  border: 2px solid var(--border) !important;
}

:root[data-theme^="stardew-"] ::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--border-strong) 0%, var(--border) 100%) !important;
  border: 2px solid var(--bg-elevated) !important;
  border-radius: 2px !important;
}

:root[data-theme^="stardew-"] ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, var(--border-hover) 0%, var(--border-strong) 100%) !important;
}

/* ========================================
   ğŸµ é€‰ä¸­æ•ˆæœ
   ======================================== */

:root[data-theme^="stardew-"] ::selection {
  background: var(--accent-subtle) !important;
  color: var(--text-strong) !important;
}

/* ========================================
   ğŸ›ï¸ ä»ªè¡¨ç›˜æ ·å¼è¦†ç›–
   ======================================== */

:root[data-theme^="stardew-"] .dashboard-container {
  font-family: var(--font-pixel) !important;
}

:root[data-theme^="stardew-"] .dashboard-title {
  font-family: var(--font-pixel) !important;
  font-size: 20px !important;
  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5) !important;
}

:root[data-theme^="stardew-"] .dashboard-subtitle {
  font-family: var(--font-pixel) !important;
  font-size: 11px !important;
}

:root[data-theme^="stardew-"] .dashboard-stat-card,
:root[data-theme^="stardew-"] .dashboard-module-card,
:root[data-theme^="stardew-"] .system-card {
  border: 3px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  box-shadow: var(--shadow-md) !important;
  image-rendering: pixelated !important;
}

:root[data-theme^="stardew-"] .dashboard-stat-card:hover,
:root[data-theme^="stardew-"] .dashboard-module-card:hover {
  box-shadow: var(--shadow-lg), 0 0 15px var(--accent-glow) !important;
}

:root[data-theme^="stardew-"] .stat-value {
  font-family: var(--font-pixel) !important;
}

:root[data-theme^="stardew-"] .module-icon {
  border-radius: var(--radius) !important;
}

:root[data-theme^="stardew-"] .module-title {
  font-family: var(--font-pixel) !important;
  font-size: 14px !important;
}

:root[data-theme^="stardew-"] .progress-bar {
  border: 2px solid var(--border-strong) !important;
  border-radius: 4px !important;
  background: var(--bg-elevated) !important;
}

:root[data-theme^="stardew-"] .progress-fill {
  border-radius: 2px !important;
}

:root[data-theme^="stardew-"] .dashboard-status-bar {
  border: 3px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
}

:root[data-theme^="stardew-"] .quick-access-item {
  border: 2px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
}

:root[data-theme^="stardew-"] .quick-access-item:hover {
  border-color: var(--accent) !important;
  transform: translate(1px, 1px) !important;
}

:root[data-theme^="stardew-"] .dashboard-modal-content {
  border: 4px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
  box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5) !important;
}

:root[data-theme^="stardew-"] .module-toggle {
  border: 2px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
}

:root[data-theme^="stardew-"] .layout-option {
  border: 2px solid var(--border-strong) !important;
  border-radius: var(--radius) !important;
}

:root[data-theme^="stardew-"] .layout-option:has(input:checked) {
  border-color: var(--accent) !important;
  background: var(--accent-subtle) !important;
}

:root[data-theme^="stardew-"] .modal-close {
  font-family: var(--font-pixel) !important;
}

/* Dashboard settings button - high visibility version */
:root[data-theme^="stardew-"] .dashboard-actions .btn.dashboard-settings-btn,
:root[data-theme^="stardew-"] .dashboard-settings-btn {
  background: linear-gradient(180deg, var(--accent) 0%, color-mix(in srgb, var(--accent) 70%, #000) 100%) !important;
  border: 3px solid #fff !important;
  color: #fff !important;
  font-family: var(--font-pixel) !important;
  font-size: 12px !important;
  text-transform: uppercase !important;
  letter-spacing: 0.1em !important;
  padding: 10px 20px !important;
  image-rendering: pixelated !important;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.5) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.2),
    0 4px 0 color-mix(in srgb, var(--accent) 50%, #000),
    0 5px 8px rgba(0,0,0,0.3) !important;
  position: relative;
  top: 0;
  transition: all 0.1s ease !important;
  display: inline-flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

:root[data-theme^="stardew-"] .dashboard-actions .btn.dashboard-settings-btn:hover,
:root[data-theme^="stardew-"] .dashboard-settings-btn:hover {
  background: linear-gradient(180deg, color-mix(in srgb, var(--accent) 90%, #fff) 0%, var(--accent) 100%) !important;
  transform: translateY(-2px) !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.3),
    0 6px 0 color-mix(in srgb, var(--accent) 50%, #000),
    0 7px 10px rgba(0,0,0,0.4) !important;
}

:root[data-theme^="stardew-"] .dashboard-actions .btn.dashboard-settings-btn:active,
:root[data-theme^="stardew-"] .dashboard-settings-btn:active {
  transform: translateY(4px) !important;
  box-shadow:
    inset 0 2px 4px rgba(0,0,0,0.2),
    0 0 0 color-mix(in srgb, var(--accent) 50%, #000),
    0 1px 2px rgba(0,0,0,0.3) !important;
}

:root[data-theme^="stardew-"] .dashboard-title {
  color: var(--accent) !important;
  text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.8) !important;
}
